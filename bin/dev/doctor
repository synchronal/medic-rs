#!/usr/bin/env bash

trap "exit" INT

source "$(brew --prefix)/share/medic-bash/cecho.bash"
source "$(brew --prefix)/share/medic-bash/check.bash"
source "$(brew --prefix)/share/medic-bash/step.bash"

check "ASDF: rust" "asdf plugin list | grep rust" "asdf plugin add rust"

step "ASDF" "asdf install"
step "Build all workspace crates" "cargo build --workspace"

cargo run --bin medic -- doc
